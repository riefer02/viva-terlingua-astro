---
import type { GalleryImagesGalleryImage } from '@/types/strapi';
import { getStrapiImageUrl } from '@/utils/image';
import { AspectRatio } from '@/components/ui/aspect-ratio';
import { cn } from '@/lib/utils';

export interface Props {
  image: GalleryImagesGalleryImage['image'];
  className?: string;
}

const { image, className } = Astro.props;

const imageUrl = getStrapiImageUrl(image);
---

<div
  class={cn(
    'overflow-hidden rounded-lg group hover:shadow-lg transition-all duration-300',
    className
  )}
>
  <AspectRatio ratio={1}>
    <img
      src={imageUrl}
      alt={image?.alternativeText || 'Cookoff poster'}
      class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"
    />
  </AspectRatio>
</div>
